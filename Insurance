--select * from tab;
--create database insurance;
CREATE TABLE PERSON (
DRIVER_ID VARCHAR2(10),
NAME VARCHAR2(20),
ADDRESS VARCHAR2(15),
PRIMARY KEY (DRIVER_ID)
);

create table car (
regno varchar2(10),
model varchar2(10), 
year number(4), 
primary key(regno)
);


--desc person;
--desc car;
create table accident (
report_no number(5),
adate date,
location varchar2(15), 
primary key(report_no));


create table own (
driver_id varchar2(10), 
regno varchar2(10),
primary key(driver_id, regno),
foreign key(driver_id) references person(driver_id),
foreign key(regno) references car(regno) 
);

--desc own;

create table participated (
driver_id VARCHAR2(10),
regno VARCHAR2(10),
report_no number(5),
damage_amt number(7,2),
primary key(driver_id, regno, report_no),
foreign key(driver_id, regno) references own(driver_id, regno) on delete cascade,
foreign key(report_no) references accident (report_no) on
delete cascade
);

insert into person values('&driver_id','&name','&address');
insert into car values('&regno','&model','&year');
insert into accident values ('&report_id','&adate','&location');

